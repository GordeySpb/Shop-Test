{"version":3,"sources":["actions/index.js","Components/Input/index.jsx","Components/Button/index.jsx","Components/Header/index.jsx","sorting.js","containers/HeaderContainer.jsx","Components/Pagination/index.jsx","Components/Good/index.jsx","Components/List/index.jsx","containers/ListContainer.jsx","Components/Preloader/index.jsx","containers/PreloaderContainer.jsx","Components/Error/index.jsx","containers/ErrorContainer.jsx","App.js","mock.js","reducers/sortedGoods.js","reducers/goods.js","reducers/sorting.js","reducers/error.js","reducers/preloader.js","reducers/filter.js","reducers/sale.js","reducers/index.js","middleware/local-storage.js","store/store.js","index.js"],"names":["SET_ERROR_STATE","SET_PRELOADER_STATE","SET_FILTER","SET_SALE_FROM","SET_SALE_TO","SET_FILTER_FROM_LS","SET_SALE_FROM_LS","SET_SALE_TO_LS","filterAndSort","payload","type","setSorting","setGoods","toggleError","togglePreloader","setFilter","setSaleFrom","setSaleTo","nextGoods","page","dispatch","axios","get","concat","then","res","data","catch","prevGoods","url","Input","_ref","onChange","placeholder","value","react_default","a","createElement","className","Button","name","onClick","defaultProps","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleFilter","bind","assertThisInitialized","handleSaleFrom","handleSaleTo","e","target","_this$props","from","_this$props2","sorting","to","_this$props3","sale","_this$props4","state","objectWithoutProperties","filter","_state$sale","console","log","Components_Input","defaultValue","Components_Button","React","Component","HeaderContainer","connect","goods","sortedGoods","items","bindActionCreators","_ref3","_ref2","dispatchProps","objectSpread","title","_ref4","arguments","length","undefined","_ref4$from","_ref4$to","Pagination","onNext","onPrev","href","Good","price","src","alt","List","scope","map","good","Components_Good","key","id","base_url","Components_Pagination","ListContayner","_ref$sortedGoods","error","Preloader","preloader","PreloaderContainer","Error","ErrorContainer","App","containers_HeaderContainer","containers_PreloaderContainer","containers_ErrorContainer","ListContainer","require","MockAdapter","mock","delayResponse","page1","item","index","page2","page3","page4","page5","onGet","reply","filtered","initialState","filters","filterByBoth","fiterByFrom","fiterByTo","filterByPrice","toLowerCase","includes","filterByTitle","sort","toConsumableArray","b","localeCompare","_ref5","reduce","filteringGoods","combineReducers","stateFromLS","json","localStorage","getItem","JSON","parse","loadState","store","createStore","reducer","applyMiddleware","next","action","result","stringify","getState","setItem","thunk","logger","setFilterFromLS","setSaleFromLS","setSaleToLS","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2db298a3.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const FILTER_AND_SORT = \"FILTER_AND_SORT\";\r\nexport const SET_SORTING = \"SET_SORTING\";\r\nexport const SET_NEW_GOODS = \"SET_NEW_GOODS\";\r\nexport const SET_ERROR_STATE = \"SET_ERROR_STATE\";\r\nexport const SET_PRELOADER_STATE = \"SET_PRELOADER_STATE\";\r\nexport const SET_GOODS = \"SET_GOODS\";\r\nexport const SET_FILTER = \"SET_FILTER\";\r\nexport const SET_SALE_FROM = \"SET_SALE_FROM\";\r\nexport const SET_SALE_TO = \"SET_SALE_TO\";\r\nexport const SET_FILTER_FROM_LS = \"SET_FILTER_FROM_LS\";\r\nexport const SET_SALE_FROM_LS = \"SET_SALE_FROM_LS\";\r\nexport const SET_SALE_TO_LS = \"SET_SALE_TO_LS\";\r\n\r\nexport const filterAndSort = payload => ({ type: FILTER_AND_SORT, payload });\r\nexport const setSorting = payload => ({ type: SET_SORTING, payload });\r\nexport const setGoods = payload => ({ type: SET_NEW_GOODS, payload });\r\nexport const toggleError = payload => ({ type: SET_ERROR_STATE, payload });\r\nexport const togglePreloader = payload => ({\r\n  type: SET_PRELOADER_STATE,\r\n  payload\r\n});\r\nexport const setGoodsFromLS = payload => ({ type: SET_GOODS, payload });\r\nexport const setFilter = payload => ({ type: SET_FILTER, payload });\r\nexport const setSaleFrom = payload => ({ type: SET_SALE_FROM, payload });\r\nexport const setSaleTo = payload => ({ type: SET_SALE_TO, payload });\r\nexport const setFilterFromLS = payload => ({\r\n  type: SET_FILTER_FROM_LS,\r\n  payload\r\n});\r\nexport const setSaleFromLS = payload => ({ type: SET_SALE_FROM_LS, payload });\r\nexport const setSaleToLS = payload => ({ type: SET_SALE_FROM_LS, payload });\r\n\r\n/** Получает Обьект с товарами от сервера\r\n * @returns {Object}\r\n */\r\n\r\nexport const addGoods = () => dispatch => {\r\n  dispatch(togglePreloader(true));\r\n\r\n  return axios\r\n    .get(\"/goods\")\r\n    .then(res => res.data)\r\n    .then(data => {\r\n      if (data) {\r\n        dispatch(setGoods(data));\r\n      }\r\n    })\r\n    .then(() => dispatch(togglePreloader(false)))\r\n    .catch(() => {\r\n      dispatch(toggleError(true));\r\n      dispatch(togglePreloader(false));\r\n    });\r\n};\r\n\r\nexport const nextGoods = page => dispatch => {\r\n  dispatch(togglePreloader(true));\r\n\r\n  return axios\r\n    .get(`/next/${page}`)\r\n    .then(res => res.data)\r\n    .then(data => {\r\n      if (data) {\r\n        dispatch(setGoods(data));\r\n      }\r\n    })\r\n    .then(() => dispatch(togglePreloader(false)))\r\n    .catch(() => {\r\n      dispatch(toggleError(true));\r\n      dispatch(togglePreloader(false));\r\n    });\r\n};\r\n\r\nexport const prevGoods = page => dispatch => {\r\n  dispatch(togglePreloader(true));\r\n  let url = `/next/${page}`;\r\n  if (page === 1 || page >= 5) {\r\n    url = \"/goods\";\r\n  }\r\n\r\n  return axios\r\n    .get(url)\r\n    .then(res => res.data)\r\n    .then(data => {\r\n      if (data) {\r\n        dispatch(setGoods(data));\r\n      }\r\n    })\r\n    .then(() => dispatch(togglePreloader(false)))\r\n    .catch(() => {\r\n      dispatch(toggleError(true));\r\n      dispatch(togglePreloader(false));\r\n    });\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/** Компонент Input\r\n * @param {Function} param.onChange функция фильтрации/сортировки\r\n * @param {string} param.placeholder значение placeholder для инпута\r\n */\r\n\r\nconst Input = ({ onChange, placeholder, value }) => <input className=\"form-control\" onChange={onChange} type=\"text\" placeholder={placeholder} value={value} />;\r\n\r\n\r\nInput.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/** Компонент Button\r\n *@param {string} param.name имя кнопки\r\n *@param {Function} param.onClick функция обратного вызова\r\n */\r\n\r\n\r\nconst Button = ({ name, onClick }) => <button type=\"button\" className=\"btn btn-light\" onClick={onClick}>{name}</button>;\r\n\r\nButton.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nButton.defaultProps = {\r\n  onClick: () => {},\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n  SORT_BY_ALPHABET_BEGIN, SORT_BY_ALPHABET_END, SORT_PRICE_BEGIN, SORT_PRICE_END,\r\n} from '../../sorting';\r\n\r\nimport Input from '../Input';\r\nimport Button from '../Button';\r\n\r\n/** Компонент Header\r\n * @param {Function} param.filterAndSort функция фильтрации и сортровки товара\r\n * @param {Function} param.setSorting функция указывающая как сортировать товар\r\n * @param {string} param.sorting строка с типом сортировки\r\n *\r\n */\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\r\n    this.handleFilter = this.handleFilter.bind(this);\r\n    this.handleSaleFrom = this.handleSaleFrom.bind(this);\r\n    this.handleSaleTo = this.handleSaleTo.bind(this);\r\n  }\r\n\r\n\r\n  handleFilter(e) {\r\n    const { value } = e.target;\r\n    const { setFilter, filterAndSort } = this.props;\r\n\r\n    setFilter(value);\r\n    filterAndSort('', value);\r\n  }\r\n\r\n  handleSaleFrom(e) {\r\n    const from = e.target.value;\r\n    const {\r\n      setSaleFrom, filterAndSort, sorting,\r\n    } = this.props;\r\n\r\n    setSaleFrom({ from: +from });\r\n    filterAndSort(sorting, '', { from });\r\n  }\r\n\r\n  handleSaleTo(e) {\r\n    const to = e.target.value;\r\n    const {\r\n      setSaleTo, filterAndSort, sorting, sale,\r\n    } = this.props;\r\n    const { from } = sale;\r\n\r\n    setSaleTo({ to: +to });\r\n    filterAndSort(sorting, '', { from, to });\r\n  }\r\n\r\n  render() {\r\n    const { setSorting, ...state } = this.props;\r\n    const { filter, sale: { from, to } } = state;\r\n    console.log(state)\r\n\r\n    return (\r\n      <header>\r\n        <Input onChange={this.handleFilter} placeholder=\"Введите название\" value={filter} defaultValue=\"Введите название\" />\r\n        <div className=\"sort-input\">\r\n          <Input onChange={this.handleSaleFrom} placeholder=\"От\" value={from ? from : \"\"} />\r\n          <Input onChange={this.handleSaleTo} placeholder=\"До\" value={to} />\r\n        </div>\r\n\r\n        <div className=\"btn-controls\">\r\n          <Button\r\n            name=\"Цена &#x2191;\"\r\n            onClick={() => {\r\n              setSorting(SORT_PRICE_BEGIN);\r\n            }}\r\n          />\r\n          <Button\r\n            name=\"Цена &#x2193;\"\r\n            onClick={() => {\r\n              setSorting(SORT_PRICE_END);\r\n            }}\r\n          />\r\n          <Button\r\n            name=\"Алфавит &#x25b2;\"\r\n            onClick={() => {\r\n              setSorting(SORT_BY_ALPHABET_BEGIN);\r\n            }}\r\n          />\r\n          <Button\r\n            name=\"Алфавит &#x25bc;\"\r\n            onClick={() => {\r\n              setSorting(SORT_BY_ALPHABET_END);\r\n            }}\r\n          />\r\n        </div>\r\n\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nHeader.propTypes = {\r\n  filterAndSort: PropTypes.func.isRequired,\r\n  setSorting: PropTypes.func.isRequired,\r\n  sorting: PropTypes.string.isRequired,\r\n  sale: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  setFilter: PropTypes.func.isRequired,\r\n  setSaleFrom: PropTypes.func.isRequired,\r\n  setSaleTo: PropTypes.func.isRequired,\r\n};\r\n\r\n\r\nexport default Header;\r\n","export const SORT_PRICE_BEGIN = 'SORT_PRICE_BEGIN';\r\nexport const SORT_PRICE_END = 'SORT_PRICE_END';\r\nexport const SORT_BY_ALPHABET_BEGIN = 'SORT_BY_ALPHABET_BEGIN';\r\nexport const SORT_BY_ALPHABET_END = 'SORT_BY_ALPHABET_END';\r\n","import { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport {\r\n  filterAndSort, setSorting, setFilter, setSaleFrom, setSaleTo,\r\n} from '../actions';\r\nimport Header from '../Components/Header';\r\n\r\nconst mapStateToProps = ({\r\n  sorting, sale, goods, sortedGoods, filter,\r\n}) => ({\r\n  sorting, sale, goods: goods.items, sortedGoods: sortedGoods.items, filter,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => (\r\n  bindActionCreators({\r\n    filterAndSort, setSorting, setFilter, setSaleFrom, setSaleTo,\r\n  }, dispatch)\r\n);\r\n\r\nconst mergeProps = ({ goods, sorting, ...state }, { filterAndSort, ...dispatchProps }) => ({\r\n  filterAndSort: (sorting, title, { from = '', to = '' } = {}) => filterAndSort({\r\n    goods, title, from, to, sorting,\r\n  }),\r\n  sorting,\r\n  ...state,\r\n  ...dispatchProps,\r\n});\r\n\r\nconst HeaderContainer = connect(mapStateToProps, mapDispatchToProps, mergeProps)(Header);\r\n\r\nexport default HeaderContainer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/** Компонент Pagination\r\n * @param {number} param.page номер страницы\r\n * @param {Function} param.onNext колбек для показа след товаров\r\n * @param {Function} param.onPrev колбек для показа пред товаров\r\n */\r\n\r\nconst Pagination = ({ page, onNext, onPrev }) => (\r\n  <ul className=\"pagination\">\r\n    {page !== 1\r\n      ? (\r\n        <li className=\"pagination__item\" onClick={() => onPrev(page - 1)}>\r\n          <a href=\"#\" className=\"pagination__item__link\">&#60;</a>\r\n        </li>\r\n      )\r\n      : null\r\n    }\r\n    <li className=\"pagination__item\">\r\n      <a href=\"#\" className=\"pagination__item__link pagination__item__link--main\">{page}</a>\r\n    </li>\r\n    {page !== 5\r\n      ? (\r\n        <li className=\"pagination__item\" onClick={() => onNext(page + 1)}>\r\n          <a href=\"#\" className=\"pagination__item__link\">&#62;</a>\r\n        </li>\r\n      )\r\n      : null\r\n    }\r\n  </ul>\r\n);\r\n\r\n\r\nPagination.propTypes = {\r\n  page: PropTypes.number,\r\n  onNext: PropTypes.func.isRequired,\r\n  onPrev: PropTypes.func.isRequired,\r\n};\r\n\r\nPagination.defaultProps = {\r\n  page: 1,\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/** Компонент Good\r\n * @param {string} param.title название товара\r\n * @param {string} param.url ссылка на картинку\r\n * @param {number} param.price цена товара\r\n */\r\n\r\nconst Good = ({ title, url, price }) => (\r\n  <tr>\r\n    <td>\r\n      <img src={url} alt=\"good\" className=\"good-img\" />\r\n    </td>\r\n    <td><h1 className=\"good-title\">{title}</h1></td>\r\n    <td><span>{price}</span></td>\r\n  </tr>\r\n);\r\n\r\nGood.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n  price: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Good;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Pagination from '../Pagination';\r\n\r\nimport Good from '../Good';\r\n\r\n/** Компонет List\r\n * @param {array} param.items массив товаров\r\n *  * @param {number} param.page номер страницы\r\n * @param {Function} param.onNext колбек для показа след товаров\r\n * @param {Function} param.onPrev колбек для показа пред товаров\r\n */\r\n\r\nconst List = ({ items, page, nextGoods, prevGoods }) => (\r\n\r\n  <table className=\"table table-borderless\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">Товар</th>\r\n        <th scope=\"col\">Описание</th>\r\n        <th scope=\"col\">Цена</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {items.map(good => (\r\n        <Good\r\n          key={good.id}\r\n          title={good.data.title}\r\n          url={good.data.base_url}\r\n          price={good.data.price}\r\n        />\r\n\r\n      ))}\r\n    </tbody>\r\n    <Pagination page={page} onNext={nextGoods} onPrev={prevGoods} />\r\n  </table>\r\n\r\n);\r\n\r\nList.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.object),\r\n  page: PropTypes.number,\r\n  nextGoods: PropTypes.func.isRequired,\r\n  prevGoods: PropTypes.func.isRequired,\r\n};\r\n\r\nList.defaultProps = {\r\n  items: [],\r\n  page: 1,\r\n};\r\n\r\nexport default List;\r\n","import { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { nextGoods, prevGoods } from '../actions';\r\n\r\nimport List from '../Components/List';\r\n\r\n\r\nconst mapStateToProps = ({ sortedGoods: { items, page }, error }) => {\r\n  return ({ items, page, error });\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => (\r\n  bindActionCreators({\r\n    nextGoods,\r\n    prevGoods,\r\n  }, dispatch)\r\n);\r\n\r\n\r\nconst ListContayner = connect(mapStateToProps, mapDispatchToProps)(List);\r\n\r\nexport default ListContayner;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/** Компонент Preloader\r\n * @param {bool} param.preloader состояние прелоадера\r\n */\r\n\r\nconst Preloader = ({ preloader }) => (preloader ? <div className=\"preloader\">Loading....</div> : null);\r\n\r\nPreloader.propTypes = {\r\n  preloader: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Preloader;\r\n","import { connect } from 'react-redux';\r\n\r\nimport Preloader from '../Components/Preloader';\r\n\r\nconst mapStateToProps = ({ preloader }) => ({ preloader });\r\n\r\nconst PreloaderContainer = connect(mapStateToProps)(Preloader);\r\n\r\nexport default PreloaderContainer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/** Компонент Error\r\n * @param {bool} param.bool состояние ошибки\r\n */\r\n\r\nconst Error = ({ error }) => (error ? <div className=\"error\">Try again</div> : null);\r\n\r\nError.propTypes = {\r\n  error: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Error;\r\n","import { connect } from 'react-redux';\r\n\r\nimport Error from '../Components/Error';\r\n\r\nconst mapStateToProps = ({ error }) => ({ error });\r\n\r\nconst ErrorContainer = connect(mapStateToProps)(Error);\r\n\r\nexport default ErrorContainer;\r\n","import React from 'react';\r\n\r\n\r\nimport HeaderContainer from './containers/HeaderContainer';\r\nimport ListContainer from './containers/ListContainer';\r\nimport PreloaderContainer from './containers/PreloaderContainer';\r\nimport ErrorContainer from './containers/ErrorContainer';\r\n\r\nconst App = () => (\r\n  <main className=\"App\">\r\n    <HeaderContainer />\r\n    <PreloaderContainer />\r\n    <ErrorContainer />\r\n    <ListContainer />\r\n  </main>\r\n);\r\n\r\nexport default App;\r\n","const axios = require(\"axios\");\r\nconst MockAdapter = require(\"axios-mock-adapter\");\r\n\r\nconst { goods } = require(\"./shop.json\");\r\n\r\nconst mock = new MockAdapter(axios, { delayResponse: 1500 });\r\n\r\nconst page1 = goods.filter((item, index) => index >= 0 && index <= 9);\r\nconst page2 = goods.filter((item, index) => index >= 10 && index <= 20);\r\nconst page3 = goods.filter((item, index) => index >= 20 && index <= 30);\r\nconst page4 = goods.filter((item, index) => index >= 30 && index <= 40);\r\nconst page5 = goods.filter((item, index) => index >= 40 && index <= 50);\r\n\r\nmock.onGet(\"/goods\").reply(200, { items: page1, page: 1 });\r\nmock.onGet(\"/next/2\").reply(200, { items: page2, page: 2 });\r\nmock.onGet(\"/next/3\").reply(200, { items: page3, page: 3 });\r\nmock.onGet(\"/next/4\").reply(200, { items: page4, page: 4 });\r\nmock.onGet(\"/next/5\").reply(200, { items: page5, page: 5 });\r\n\r\nexport default mock;\r\n","import {\r\n  FILTER_AND_SORT,\r\n  SET_SORTING,\r\n  SET_NEW_GOODS,\r\n  SET_GOODS\r\n} from \"../actions\";\r\nimport {\r\n  SORT_BY_ALPHABET_BEGIN,\r\n  SORT_BY_ALPHABET_END,\r\n  SORT_PRICE_BEGIN,\r\n  SORT_PRICE_END\r\n} from \"../sorting\";\r\n\r\nconst filterByBoth = ({ from, to }, goods) =>\r\n  goods.filter(good =>\r\n    good.data.price >= from && good.data.price <= to ? good : null\r\n  );\r\nconst fiterByFrom = (from, goods) =>\r\n  goods.filter(good => (good.data.price >= from ? good : null));\r\nconst fiterByTo = (to, goods) =>\r\n  goods.filter(good => (good.data.price <= to ? good : null));\r\n\r\nconst filterByPrice = ({ from, to }, state) => {\r\n  if (from && to) {\r\n    return filterByBoth({ from, to }, state);\r\n  }\r\n\r\n  if (from && !to) {\r\n    return fiterByFrom(from, state);\r\n  }\r\n\r\n  if (!from && to) {\r\n    return fiterByTo(to, state);\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nconst filterByTitle = (title, goods) =>\r\n  title\r\n    ? goods.filter(good => good.data.title.toLowerCase().includes(title))\r\n    : goods;\r\n\r\nconst filterByPriceProvider = ({ from, to, goods }) =>\r\n  filterByPrice({ from, to }, goods);\r\nconst filterByTitleProvider = ({ title, goods }) => filterByTitle(title, goods);\r\n\r\nconst filters = [filterByPriceProvider, filterByTitleProvider];\r\n\r\nconst sort = (sorting, goods) => {\r\n  switch (sorting) {\r\n    case SORT_PRICE_BEGIN:\r\n      return [...goods].sort((a, b) => a.data.price - b.data.price);\r\n\r\n    case SORT_PRICE_END:\r\n      return [...goods].sort((a, b) => b.data.price - a.data.price);\r\n\r\n    case SORT_BY_ALPHABET_BEGIN:\r\n      return [...goods].sort((a, b) =>\r\n        a.data.title.localeCompare(b.data.title)\r\n      );\r\n\r\n    case SORT_BY_ALPHABET_END:\r\n      return [...goods].sort((a, b) =>\r\n        b.data.title.localeCompare(a.data.title)\r\n      );\r\n\r\n    default:\r\n      return goods;\r\n  }\r\n};\r\n\r\nlet filtered;\r\nlet sortedGoodsArr;\r\nlet sorted;\r\n\r\nconst initialState = {\r\n  items: [],\r\n  page: 1\r\n};\r\n\r\nconst sortedGoods = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case FILTER_AND_SORT:\r\n      filtered = filters.reduce((filteringGoods, filter) => {\r\n        const filteredGoods = filter({ ...payload, goods: filteringGoods });\r\n        return filteredGoods;\r\n      }, payload.goods);\r\n\r\n      sortedGoodsArr = sort(payload.sorting, filtered);\r\n\r\n      return { items: sortedGoodsArr };\r\n\r\n    case SET_NEW_GOODS:\r\n      return { ...payload };\r\n\r\n    case SET_GOODS:\r\n      return payload;\r\n\r\n    case SET_SORTING:\r\n      sorted = sort(payload, state.items);\r\n      return { items: sorted };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default sortedGoods;\r\n","import { SET_NEW_GOODS } from '../actions';\r\n\r\nconst initialState = {\r\n  items: [],\r\n  page: 0,\r\n};\r\n\r\nconst goods = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case SET_NEW_GOODS:\r\n      return { ...payload };\r\n\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default goods;\r\n","import { SET_SORTING } from '../actions';\r\n\r\nconst initialState = '';\r\n\r\nconst sorting = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case SET_SORTING:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default sorting;\r\n","import { SET_ERROR_STATE } from '../actions';\r\n\r\nconst initialState = false;\r\n\r\nexport default function error(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case SET_ERROR_STATE:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { SET_PRELOADER_STATE } from '../actions';\r\n\r\nconst initialState = false;\r\n\r\nexport default function preloader(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case SET_PRELOADER_STATE:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { SET_FILTER, SET_FILTER_FROM_LS } from \"../actions\";\r\n\r\nconst initialState = \"\";\r\n\r\nexport default function filter(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case SET_FILTER:\r\n      return payload;\r\n\r\n    case SET_FILTER_FROM_LS:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_SALE_FROM,\r\n  SET_SALE_TO,\r\n  SET_SALE_FROM_LS,\r\n  SET_SALE_TO_LS\r\n} from \"../actions\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function sale(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case SET_SALE_FROM:\r\n      return { ...state, ...payload };\r\n\r\n    case SET_SALE_TO:\r\n      return { ...state, ...payload };\r\n\r\n    case SET_SALE_FROM_LS:\r\n      return { ...state, ...payload };\r\n\r\n    case SET_SALE_TO_LS:\r\n      return { ...state, ...payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\n\r\nimport goods from './goods';\r\nimport sortedGoods from './sortedGoods';\r\nimport sorting from './sorting';\r\nimport error from './error';\r\nimport preloader from './preloader';\r\nimport filter from './filter';\r\nimport sale from './sale';\r\n\r\nexport default combineReducers({\r\n  goods,\r\n  sortedGoods,\r\n  sorting,\r\n  error,\r\n  preloader,\r\n  filter,\r\n  sale,\r\n});\r\n","export const loadState = (key = 'state') => {\r\n  try {\r\n    const json = localStorage.getItem(key);\r\n\r\n    if (json === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(json);\r\n  } catch (error) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\n\r\nexport default key => store => next => (action) => {\r\n  const result = next(action);\r\n\r\n  try {\r\n    const json = JSON.stringify(key ? store.getState()[key] : store.getState());\r\n    localStorage.setItem(key || 'state', json);\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n\r\n  return result;\r\n};\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport logger from \"redux-logger\";\r\nimport thunk from \"redux-thunk\";\r\nimport reducer from \"../reducers\";\r\n\r\nimport localStorage, { loadState } from \"../middleware/local-storage\";\r\nimport {\r\n  addGoods,\r\n  setGoods,\r\n  setSorting,\r\n  setGoodsFromLS,\r\n  setFilterFromLS,\r\n  setSaleFromLS,\r\n  setSaleToLS\r\n} from \"../actions\";\r\n\r\nconst stateFromLS = loadState();\r\nconst store = createStore(\r\n  reducer,\r\n  {},\r\n  applyMiddleware(localStorage(), thunk, logger)\r\n);\r\n\r\nif (stateFromLS) {\r\n  const { sortedGoods, sorting, goods, filter, sale } = stateFromLS;\r\n  store.dispatch(setGoods(goods));\r\n  store.dispatch(setSorting(sorting));\r\n  store.dispatch(setGoodsFromLS(sortedGoods));\r\n  store.dispatch(setFilterFromLS(filter));\r\n  store.dispatch(setSaleFromLS(sale));\r\n  store.dispatch(setSaleToLS(sale));\r\n} else {\r\n  store.dispatch(addGoods());\r\n}\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\n\r\nimport 'normalize.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\nimport './mock';\r\n\r\nimport store from './store/store';\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>, document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}